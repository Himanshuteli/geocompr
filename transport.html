<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Geocomputation with R</title>
  <meta name="description" content="Forthcoming book on geographic data with R.">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Geocomputation with R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://geocompr.robinlovelace.net" />
  
  <meta property="og:description" content="Forthcoming book on geographic data with R." />
  <meta name="github-repo" content="Robinlovelace/geocompr" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Geocomputation with R" />
  
  <meta name="twitter:description" content="Forthcoming book on geographic data with R." />
  

<meta name="author" content="Robin Lovelace, Jakub Nowosad, Jannes Muenchow">


<meta name="date" content="2017-12-19">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="location.html">
<link rel="next" href="references.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-0.9/htmlwidgets.js"></script>
<link href="libs/leaflet-0.7.7/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-0.7.7/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<link href="libs/leaflet-label-0.2.2/leaflet.label.css" rel="stylesheet" />
<script src="libs/leaflet-label-0.2.2/leaflet.label.js"></script>
<script src="libs/Proj4Leaflet-0.7.2/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-0.7.2/proj4leaflet.js"></script>
<script src="libs/leaflet-binding-1.1.0/leaflet.js"></script>
<script src="libs/leaflet-providers-1.0.27/leaflet-providers.js"></script>
<script src="libs/leaflet-providers-plugin-1.1.0/leaflet-providers-plugin.js"></script>
<link href="libs/leaflet-awesomemarkers-2.0.3/leaflet.awesome-markers.css" rel="stylesheet" />
<script src="libs/leaflet-awesomemarkers-2.0.3/leaflet.awesome-markers.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-99618359-1', 'auto');
  ga('send', 'pageview');

</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Geocomputation with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#development"><i class="fa fa-check"></i>Development</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-contribute"><i class="fa fa-check"></i>How to contribute?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#reproducibility"><i class="fa fa-check"></i>Reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>I Foundations</b></span></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#what-is-geocomputation"><i class="fa fa-check"></i><b>1.1</b> What is geocomputation?</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#why-geocomputation-with-r"><i class="fa fa-check"></i><b>1.2</b> Why Geocomputation with R?</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#software-for-geocomputation"><i class="fa fa-check"></i><b>1.3</b> Software for geocomputation</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#rs-spatial-ecosystem"><i class="fa fa-check"></i><b>1.4</b> R’s spatial ecosystem</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#the-history-of-r-spatial"><i class="fa fa-check"></i><b>1.5</b> The history of R-spatial</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#exercises"><i class="fa fa-check"></i><b>1.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="spatial-class.html"><a href="spatial-class.html"><i class="fa fa-check"></i><b>2</b> Geographic data in R</a><ul>
<li class="chapter" data-level="" data-path="spatial-class.html"><a href="spatial-class.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="2.1" data-path="spatial-class.html"><a href="spatial-class.html#vector-data"><i class="fa fa-check"></i><b>2.1</b> Vector data</a><ul>
<li class="chapter" data-level="2.1.1" data-path="spatial-class.html"><a href="spatial-class.html#intro-sf"><i class="fa fa-check"></i><b>2.1.1</b> An introduction to simple features</a></li>
<li class="chapter" data-level="2.1.2" data-path="spatial-class.html"><a href="spatial-class.html#why-simple-features"><i class="fa fa-check"></i><b>2.1.2</b> Why simple features?</a></li>
<li class="chapter" data-level="2.1.3" data-path="spatial-class.html"><a href="spatial-class.html#basic-map"><i class="fa fa-check"></i><b>2.1.3</b> Basic map making</a></li>
<li class="chapter" data-level="2.1.4" data-path="spatial-class.html"><a href="spatial-class.html#base-args"><i class="fa fa-check"></i><b>2.1.4</b> Base plot arguments</a></li>
<li class="chapter" data-level="2.1.5" data-path="spatial-class.html"><a href="spatial-class.html#sf-classes"><i class="fa fa-check"></i><b>2.1.5</b> Simple feature classes</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="spatial-class.html"><a href="spatial-class.html#raster-data"><i class="fa fa-check"></i><b>2.2</b> Raster data</a><ul>
<li class="chapter" data-level="2.2.1" data-path="spatial-class.html"><a href="spatial-class.html#an-introduction-to-raster"><i class="fa fa-check"></i><b>2.2.1</b> An introduction to raster</a></li>
<li class="chapter" data-level="2.2.2" data-path="spatial-class.html"><a href="spatial-class.html#basic-map-making"><i class="fa fa-check"></i><b>2.2.2</b> Basic map making</a></li>
<li class="chapter" data-level="2.2.3" data-path="spatial-class.html"><a href="spatial-class.html#raster-classes"><i class="fa fa-check"></i><b>2.2.3</b> Raster classes</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="spatial-class.html"><a href="spatial-class.html#crs-intro"><i class="fa fa-check"></i><b>2.3</b> Coordinate Reference Systems</a><ul>
<li class="chapter" data-level="2.3.1" data-path="spatial-class.html"><a href="spatial-class.html#geographic-coordinate-systems"><i class="fa fa-check"></i><b>2.3.1</b> Geographic coordinate systems</a></li>
<li class="chapter" data-level="2.3.2" data-path="spatial-class.html"><a href="spatial-class.html#projected-coordinate-systems"><i class="fa fa-check"></i><b>2.3.2</b> Projected coordinate systems</a></li>
<li class="chapter" data-level="2.3.3" data-path="spatial-class.html"><a href="spatial-class.html#crs-in-r"><i class="fa fa-check"></i><b>2.3.3</b> CRS in R</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="spatial-class.html"><a href="spatial-class.html#units"><i class="fa fa-check"></i><b>2.4</b> Units</a></li>
<li class="chapter" data-level="2.5" data-path="spatial-class.html"><a href="spatial-class.html#ex2"><i class="fa fa-check"></i><b>2.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="attr.html"><a href="attr.html"><i class="fa fa-check"></i><b>3</b> Attribute operations</a><ul>
<li class="chapter" data-level="" data-path="attr.html"><a href="attr.html#prerequisites-1"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="3.1" data-path="attr.html"><a href="attr.html#introduction"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="attr.html"><a href="attr.html#vector-attribute-manipulation"><i class="fa fa-check"></i><b>3.2</b> Vector attribute manipulation</a><ul>
<li class="chapter" data-level="3.2.1" data-path="attr.html"><a href="attr.html#vector-attribute-subsetting"><i class="fa fa-check"></i><b>3.2.1</b> Vector attribute subsetting</a></li>
<li class="chapter" data-level="3.2.2" data-path="attr.html"><a href="attr.html#vector-attribute-aggregation"><i class="fa fa-check"></i><b>3.2.2</b> Vector attribute aggregation</a></li>
<li class="chapter" data-level="3.2.3" data-path="attr.html"><a href="attr.html#vector-attribute-joining"><i class="fa fa-check"></i><b>3.2.3</b> Vector attribute joining</a></li>
<li class="chapter" data-level="3.2.4" data-path="attr.html"><a href="attr.html#vec-attr-creation"><i class="fa fa-check"></i><b>3.2.4</b> Creating attributes and removing spatial information</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="attr.html"><a href="attr.html#manipulating-raster-objects"><i class="fa fa-check"></i><b>3.3</b> Manipulating raster objects</a><ul>
<li class="chapter" data-level="3.3.1" data-path="attr.html"><a href="attr.html#raster-subsetting"><i class="fa fa-check"></i><b>3.3.1</b> Raster subsetting</a></li>
<li class="chapter" data-level="3.3.2" data-path="attr.html"><a href="attr.html#summarizing-raster-objects"><i class="fa fa-check"></i><b>3.3.2</b> Summarizing raster objects</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="attr.html"><a href="attr.html#exercises-1"><i class="fa fa-check"></i><b>3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="spatial-operations.html"><a href="spatial-operations.html"><i class="fa fa-check"></i><b>4</b> Spatial operations</a><ul>
<li class="chapter" data-level="" data-path="spatial-operations.html"><a href="spatial-operations.html#prerequisites-2"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="4.1" data-path="spatial-operations.html"><a href="spatial-operations.html#introduction-1"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="spatial-operations.html"><a href="spatial-operations.html#spatial-vec"><i class="fa fa-check"></i><b>4.2</b> Spatial operations on vector data</a><ul>
<li class="chapter" data-level="4.2.1" data-path="spatial-operations.html"><a href="spatial-operations.html#spatial-subsetting"><i class="fa fa-check"></i><b>4.2.1</b> Spatial subsetting</a></li>
<li class="chapter" data-level="4.2.2" data-path="spatial-operations.html"><a href="spatial-operations.html#topological-relations"><i class="fa fa-check"></i><b>4.2.2</b> Topological relations</a></li>
<li class="chapter" data-level="4.2.3" data-path="spatial-operations.html"><a href="spatial-operations.html#spatial-joining"><i class="fa fa-check"></i><b>4.2.3</b> Spatial joining</a></li>
<li class="chapter" data-level="4.2.4" data-path="spatial-operations.html"><a href="spatial-operations.html#non-overlapping-joins"><i class="fa fa-check"></i><b>4.2.4</b> Non-overlapping joins</a></li>
<li class="chapter" data-level="4.2.5" data-path="spatial-operations.html"><a href="spatial-operations.html#spatial-data-aggregation"><i class="fa fa-check"></i><b>4.2.5</b> Spatial data aggregation</a></li>
<li class="chapter" data-level="4.2.6" data-path="spatial-operations.html"><a href="spatial-operations.html#distance-relations"><i class="fa fa-check"></i><b>4.2.6</b> Distance relations</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="spatial-operations.html"><a href="spatial-operations.html#spatial-ras"><i class="fa fa-check"></i><b>4.3</b> Spatial operations on raster data</a><ul>
<li class="chapter" data-level="4.3.1" data-path="attr.html"><a href="attr.html#raster-subsetting"><i class="fa fa-check"></i><b>4.3.1</b> Spatial subsetting</a></li>
<li class="chapter" data-level="4.3.2" data-path="spatial-operations.html"><a href="spatial-operations.html#map-algebra"><i class="fa fa-check"></i><b>4.3.2</b> Map algebra</a></li>
<li class="chapter" data-level="4.3.3" data-path="spatial-operations.html"><a href="spatial-operations.html#local-operations"><i class="fa fa-check"></i><b>4.3.3</b> Local operations</a></li>
<li class="chapter" data-level="4.3.4" data-path="spatial-operations.html"><a href="spatial-operations.html#focal-operations"><i class="fa fa-check"></i><b>4.3.4</b> Focal operations</a></li>
<li class="chapter" data-level="4.3.5" data-path="spatial-operations.html"><a href="spatial-operations.html#zonal-operations"><i class="fa fa-check"></i><b>4.3.5</b> Zonal operations</a></li>
<li class="chapter" data-level="4.3.6" data-path="spatial-operations.html"><a href="spatial-operations.html#global-operations-and-distances"><i class="fa fa-check"></i><b>4.3.6</b> Global operations and distances</a></li>
<li class="chapter" data-level="4.3.7" data-path="spatial-operations.html"><a href="spatial-operations.html#merging-rasters"><i class="fa fa-check"></i><b>4.3.7</b> Merging rasters</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="spatial-operations.html"><a href="spatial-operations.html#exercises-2"><i class="fa fa-check"></i><b>4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i><b>5</b> Geometric operations</a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#prerequisites-3"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="5.1" data-path="transform.html"><a href="transform.html#introduction-2"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="transform.html"><a href="transform.html#reproj-geo-data"><i class="fa fa-check"></i><b>5.2</b> Reprojecting geographic data</a><ul>
<li class="chapter" data-level="5.2.1" data-path="transform.html"><a href="transform.html#which-crs-to-use"><i class="fa fa-check"></i><b>5.2.1</b> Which CRS to use?</a></li>
<li class="chapter" data-level="5.2.2" data-path="transform.html"><a href="transform.html#reprojecting-vector-geometries"><i class="fa fa-check"></i><b>5.2.2</b> Reprojecting vector geometries</a></li>
<li class="chapter" data-level="5.2.3" data-path="transform.html"><a href="transform.html#reprojecting-raster-geometries"><i class="fa fa-check"></i><b>5.2.3</b> Reprojecting raster geometries</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="transform.html"><a href="transform.html#geo-vec"><i class="fa fa-check"></i><b>5.3</b> Geometric operations on vector data</a><ul>
<li class="chapter" data-level="5.3.1" data-path="transform.html"><a href="transform.html#simplification"><i class="fa fa-check"></i><b>5.3.1</b> Simplification</a></li>
<li class="chapter" data-level="5.3.2" data-path="transform.html"><a href="transform.html#centroids-and-buffers"><i class="fa fa-check"></i><b>5.3.2</b> Centroids and buffers</a></li>
<li class="chapter" data-level="5.3.3" data-path="transform.html"><a href="transform.html#affine-transformations"><i class="fa fa-check"></i><b>5.3.3</b> Affine transformations</a></li>
<li class="chapter" data-level="5.3.4" data-path="transform.html"><a href="transform.html#clipping"><i class="fa fa-check"></i><b>5.3.4</b> Clipping</a></li>
<li class="chapter" data-level="5.3.5" data-path="transform.html"><a href="transform.html#geometry-unions"><i class="fa fa-check"></i><b>5.3.5</b> Geometry unions</a></li>
<li class="chapter" data-level="5.3.6" data-path="transform.html"><a href="transform.html#type-transformations"><i class="fa fa-check"></i><b>5.3.6</b> Type transformations</a></li>
<li class="chapter" data-level="5.3.7" data-path="transform.html"><a href="transform.html#rasterization"><i class="fa fa-check"></i><b>5.3.7</b> Rasterization</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="transform.html"><a href="transform.html#geo-ras"><i class="fa fa-check"></i><b>5.4</b> Geometric operations on raster data</a><ul>
<li class="chapter" data-level="5.4.1" data-path="transform.html"><a href="transform.html#raster-alignment"><i class="fa fa-check"></i><b>5.4.1</b> Raster alignment</a></li>
<li class="chapter" data-level="5.4.2" data-path="transform.html"><a href="transform.html#ras-agg"><i class="fa fa-check"></i><b>5.4.2</b> Aggregation</a></li>
<li class="chapter" data-level="5.4.3" data-path="transform.html"><a href="transform.html#vectorization"><i class="fa fa-check"></i><b>5.4.3</b> Vectorization</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="transform.html"><a href="transform.html#exercises-3"><i class="fa fa-check"></i><b>5.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="read-write.html"><a href="read-write.html"><i class="fa fa-check"></i><b>6</b> Geographic data I/O</a><ul>
<li class="chapter" data-level="" data-path="read-write.html"><a href="read-write.html#prerequisites-4"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="6.1" data-path="read-write.html"><a href="read-write.html#introduction-3"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="read-write.html"><a href="read-write.html#retrieving-data"><i class="fa fa-check"></i><b>6.2</b> Retrieving open data</a></li>
<li class="chapter" data-level="6.3" data-path="read-write.html"><a href="read-write.html#file-formats"><i class="fa fa-check"></i><b>6.3</b> File formats</a></li>
<li class="chapter" data-level="6.4" data-path="read-write.html"><a href="read-write.html#data-input"><i class="fa fa-check"></i><b>6.4</b> Data Input (I)</a><ul>
<li class="chapter" data-level="6.4.1" data-path="read-write.html"><a href="read-write.html#vector-data-1"><i class="fa fa-check"></i><b>6.4.1</b> Vector data</a></li>
<li class="chapter" data-level="6.4.2" data-path="read-write.html"><a href="read-write.html#raster-data-1"><i class="fa fa-check"></i><b>6.4.2</b> Raster data</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="read-write.html"><a href="read-write.html#data-output"><i class="fa fa-check"></i><b>6.5</b> Data output (O)</a><ul>
<li class="chapter" data-level="6.5.1" data-path="read-write.html"><a href="read-write.html#vector-data-2"><i class="fa fa-check"></i><b>6.5.1</b> Vector data</a></li>
<li class="chapter" data-level="6.5.2" data-path="read-write.html"><a href="read-write.html#raster-data-2"><i class="fa fa-check"></i><b>6.5.2</b> Raster data</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="read-write.html"><a href="read-write.html#visual-outputs"><i class="fa fa-check"></i><b>6.6</b> Visual outputs</a></li>
<li class="chapter" data-level="6.7" data-path="read-write.html"><a href="read-write.html#exercises-4"><i class="fa fa-check"></i><b>6.7</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Basic applications</b></span></li>
<li class="chapter" data-level="7" data-path="location.html"><a href="location.html"><i class="fa fa-check"></i><b>7</b> Location analysis</a><ul>
<li class="chapter" data-level="" data-path="location.html"><a href="location.html#prerequisites-5"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="7.1" data-path="location.html"><a href="location.html#introduction-4"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="location.html"><a href="location.html#case-study"><i class="fa fa-check"></i><b>7.2</b> Case study: bike shops in Germany</a><ul>
<li class="chapter" data-level="7.2.1" data-path="location.html"><a href="location.html#tidy-the-input-data"><i class="fa fa-check"></i><b>7.2.1</b> Tidy the input data</a></li>
<li class="chapter" data-level="7.2.2" data-path="location.html"><a href="location.html#create-census-rasters"><i class="fa fa-check"></i><b>7.2.2</b> Create census rasters</a></li>
<li class="chapter" data-level="7.2.3" data-path="location.html"><a href="location.html#define-metropolitan-areas"><i class="fa fa-check"></i><b>7.2.3</b> Define metropolitan areas</a></li>
<li class="chapter" data-level="7.2.4" data-path="location.html"><a href="location.html#points-of-interest"><i class="fa fa-check"></i><b>7.2.4</b> Points of interest</a></li>
<li class="chapter" data-level="7.2.5" data-path="location.html"><a href="location.html#identifying-suitable-locations"><i class="fa fa-check"></i><b>7.2.5</b> Identifying suitable locations</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="location.html"><a href="location.html#discussion-and-next-steps"><i class="fa fa-check"></i><b>7.3</b> Discussion and next steps</a></li>
<li class="chapter" data-level="7.4" data-path="location.html"><a href="location.html#exercises-5"><i class="fa fa-check"></i><b>7.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="transport.html"><a href="transport.html"><i class="fa fa-check"></i><b>8</b> Transport applications</a><ul>
<li class="chapter" data-level="" data-path="transport.html"><a href="transport.html#prerequisites-6"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="8.1" data-path="transport.html"><a href="transport.html#introduction-5"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="transport.html"><a href="transport.html#bris-case"><i class="fa fa-check"></i><b>8.2</b> A case study of Bristol</a></li>
<li class="chapter" data-level="8.3" data-path="transport.html"><a href="transport.html#transport-zones"><i class="fa fa-check"></i><b>8.3</b> Transport zones</a></li>
<li class="chapter" data-level="8.4" data-path="transport.html"><a href="transport.html#nodes-on-the-transport-system"><i class="fa fa-check"></i><b>8.4</b> Nodes on the transport system</a></li>
<li class="chapter" data-level="8.5" data-path="transport.html"><a href="transport.html#desire-lines"><i class="fa fa-check"></i><b>8.5</b> Desire lines</a></li>
<li class="chapter" data-level="8.6" data-path="transport.html"><a href="transport.html#route-analysis"><i class="fa fa-check"></i><b>8.6</b> Route analysis</a></li>
<li class="chapter" data-level="8.7" data-path="transport.html"><a href="transport.html#route-networks"><i class="fa fa-check"></i><b>8.7</b> Route networks</a></li>
<li class="chapter" data-level="8.8" data-path="transport.html"><a href="transport.html#agents-in-the-transport-system"><i class="fa fa-check"></i><b>8.8</b> Agents in the transport system</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="http://robinlovelace.net/">Robin Lovelace</a></li>
<li><a href="https://nowosad.github.io/">Jakub Nowosad</a></li>
<li><a href="http://www.geographie.uni-jena.de/en/Muenchow.html">Jannes Muenchow</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Geocomputation with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="transport" class="section level1">
<h1><span class="header-section-number">8</span> Transport applications</h1>
<div id="prerequisites-6" class="section level2 unnumbered">
<h2>Prerequisites</h2>
<ul>
<li>This chapter requires the packages <strong>tidyverse</strong>, <strong>sf</strong> and <strong>stplanr</strong>.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(sf)
<span class="kw">library</span>(stplanr)</code></pre></div>
</div>
<div id="introduction-5" class="section level2">
<h2><span class="header-section-number">8.1</span> Introduction</h2>
<p>In no other sector is geographic space more tangible than transport. It is the effort of moving, particularly between places that are far apart, that led to the ‘first law’ of geography defined by Waldo Tobler in 1970 as follows <span class="citation">(Miller <a href="#ref-miller_toblers_2004">2004</a>)</span>:</p>
<blockquote>
<p>Everything is related to everything else, but near things are more related than distant things</p>
</blockquote>
<p>This ‘law’ applies to phenomena as diverse as friendship networks and ecological diversity and can be explained by the costs of transport — in terms of time, energy and money. These costs are known as the ‘friction of distance’. Thus transport technologies disrupt geographic relationships from the perspective of mobile humans and goods: “the purpose of transportation is to overcome space” <span class="citation">(Rodrigue, Comtois, and Slack <a href="#ref-rodrigue_geography_2013">2013</a>)</span>.</p>
<p>Transport is an inherently geospatial activity. It involves traversing continuous geographic space between A and B, and infinite localities in between. It is therefore unsurprising that transport researchers have long turned to geocomputational methods to understand movement patterns and that transport problems are a motivator of geocomputational methods.</p>
<p>This chapter provides an introduction to geographic analysis of transport systems. We will explore how movement patterns can be understood at multiple geographic levels, including:</p>
<ul>
<li><strong>Areal units</strong>: transport can be understood simply in terms of zonal aggregates such as the main mode and average distance of trips made people living in a particular zone.</li>
<li><strong>Nodes</strong>: these are points in the transport system that can represent common origins and destinations (e.g. with one centroid per zone) and public transport stations such as bus stops and rail stations.</li>
<li><strong>Desire lines</strong>: straight lines that represent ‘origin-destination’ data that records how many people travel (or could travel) between places (points or zones) in geographic space.</li>
<li><strong>Routes</strong>: these are cirquitous (non-straight) routes, typically representing the ‘optimal’ path along the route network between origins and destinations along the desire lines defined in the previous bullet point.</li>
<li><strong>Route networks</strong>: these represent the system of roads, paths and other linear features in an area. They can be represented as purely geographic entities or as a graph. Their features are segments which can be assigned values representing ‘flow’, the number of people expected to use a particular street or path.</li>
<li><strong>Agents</strong>: these are the lowest-level but hardest to model entities in transport systems — mobile entities like you and me.</li>
</ul>
<p>These six levels of analysis show that transport systems are highly complex, even before accounting for the innevitable fact that all of them are constantly evolving in continuous time. The purpose of geographic transport modelling can be interpretted as simplifying this complexity in a way that captures the essence of transport problems.</p>
<p>Typically models are designed to solve a particular problem. For this reason this chapter is based around a policy scenario that asks: how to increase walking and cycling? We will use input data from Bristol, a coastal city in the West of England, described in the next section.</p>
<!-- Idea: make it about reducing CO2 emissions instead. Thoughts? + Multi-model - more complex -->
</div>
<div id="bris-case" class="section level2">
<h2><span class="header-section-number">8.2</span> A case study of Bristol</h2>
<p>The case study used for this chapter is a city on the west of England, around 30 km East of the Welsh capital Cardiff. The area’s transport network is illustrated in Figure <a href="transport.html#fig:bristol">8.1</a>, which shows that Bristol is provided by a diverse range transport infrastructure, for travelling by bicycle, train and private motor vehicle.</p>
<div class="figure" style="text-align: center"><span id="fig:bristol"></span>
<img src="https://user-images.githubusercontent.com/1825120/34098583-b6daf054-e3d4-11e7-9fd6-7d71883f89e4.png" alt="Overview map of Bristol, with key parts of the transport network represented as colored lines for active (green), public (railways, black) and private motor (red) modes of travel."  />
<p class="caption">
Figure 8.1: Overview map of Bristol, with key parts of the transport network represented as colored lines for active (green), public (railways, black) and private motor (red) modes of travel.
</p>
</div>
<p>Bristol is the 10<sup>th</sup> largest city council in England, with a population of half a million people, although its travel catchment area is larger (see section <a href="transport.html#transport-zones">8.3</a>). It has a vibrant economy with aerospace, media, financial service and tourism, alongside two major universities. Bristol has high average income per capita but contains areas of severe deprivation <span class="citation">(Bristol City Council <a href="#ref-bristol_city_council_deprivation_2015">2015</a>)</span>.</p>
<p>In terms of transport, Bristol is well served by rail and road links, and has a relatively high level of active travel. 19% of its citizens cycle and 88% walk at least once per month according to the <a href="https://www.gov.uk/government/statistical-data-sets/how-often-and-time-spent-walking-and-cycling-at-local-authority-level-cw010#table-cw0103">Active People Survey</a> (the national average is 15% and 81% respectively). 8% of the population reported cycling to work in the 2011 census, compared with only 3% nationwide.</p>
<p>Despite impressive walking and cycling statistics, the city has a major congestion problem. Part of the solution is to continue increase the proportion of trips made by cycling. Cycling has a greater potential to replace car trips than walking because of the speed of this mode, around 3-4 times faster than walking (with typical <a href="https://en.wikipedia.org/wiki/Bicycle_performance">speeds</a> of 15-20 km/h vs 4-6 km/h for walking). There is therefore a <a href="http://www.cyclingweekly.com/news/interview-bristols-mayor-george-ferguson-24114">plan</a> to double the mode share of cycling by 2020.</p>
<p>In this policy context the aim of this chapter, beyond demonstrating how geocomputation with R can be used to support sustainable transport planning, is to provide evidence for decision-makers in Bristol to decide how best to increase the mode share of walking and cycling in particular in the city. This high-level aim will be met via the following objectives:</p>
<ul>
<li>Describe the geographical pattern of transport behaviour in the city.</li>
<li>Identify key nodes and potential bottlenecks where walking and cycling potential is likely to be highest.</li>
<li>Analyse travel ‘desire lines’ in the city to identify those with greatest potential for modal shift.</li>
<li>Building on the desire-line level analysis, identify which routes would most benefit from having dedicated cycleways and improved provision for pedestrians.</li>
</ul>
<p>To get the wheels rolling on the practical aspects of this chapter, we begin by loading zonal data on travel paterns. These zone-level data are small but often vital for gaining a basic understanding of a settlement’s overall transport system.</p>
</div>
<div id="transport-zones" class="section level2">
<h2><span class="header-section-number">8.3</span> Transport zones</h2>
<p>Although transport systems are primarily based on linear features and nodes — including pathways and stations — it often makes sense to start with areal data. Three types of zone will typically be of particular interest: the study region, origin zones (typically residential areas), and destination zones (which are often the same as the origin zones).</p>
<p>The simplest way to define a study area is often the first matching boundary returned by OpenStreetMap, which can be obtained using the development version of <strong>osmdata</strong> as follows:</p>
<!-- Todo: remove 'development version' when this goes on CRAN -->
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">region_bb =<span class="st"> </span>osmdata::<span class="kw">getbb</span>(<span class="st">&quot;Bristol&quot;</span>, <span class="dt">format_out =</span> <span class="st">&quot;sf_polygon&quot;</span>)</code></pre></div>
<p>The result is an <code>sf</code> object representing the bounds of the largest matching city region, either a rectangular polygon of the bounding box or detailed polygonal boundary (see Figure <a href="transport.html#fig:zones">8.2</a>).<a href="#fn44" class="footnoteRef" id="fnref44"><sup>44</sup></a> This approach may not always be appropriate, however: boundaries in OSM may not be the same as boundaries used by the local transport planning authority. More importantly, official administrative zones seldom relate to where people in them travel.</p>
<p>Travel to Work Areas (TTWAs) overcome this issue by creating a zoning system analogous to hydrological watersheds. TTWAs were first defined as contiguous zones within which 75% of the population travels work <span class="citation">(Coombes, Green, and Openshaw <a href="#ref-coombes_efficient_1986">1986</a>)</span>, and this is the definition used in this chapter. Because Bristol is a major employer attracting travel from surrounding towns, its TTWA — loading in the command below — is substantially larger than its administratively defined area (see Figure <a href="transport.html#fig:zones">8.2</a>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">region_ttwa =<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;extdata/bristol-ttwa.rds&quot;</span>)</code></pre></div>
<p>Areal data is the other key zonal dataset type. Where available, such administrative zones can provide vital context, with demographic, transport and other variables and their spatial distribution. The geographic resolution of these zones is important: small zones are usually preferable but if they are too small (their geographic resolution is too high) this can have consequences for processing time and data access: more socio-demographic variables are often available for large zones than small zones, due to rules preventing the disclosure of identifiable data.</p>
<p>The zoning system illustrated in Figure <a href="transport.html#fig:zones">8.2</a> represents the areal units used in this chapter. These 102 zones, loaded in the next code chunk, are relatively large but provide sufficient resolution for the purposes of this chapter.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">zones =<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;extdata/bristol-zones.rds&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">od =<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;extdata/bristol-od.rds&quot;</span>)
zones_attr =<span class="st"> </span>od %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(o) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise_if</span>(is.numeric, sum) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">rename</span>(<span class="dt">geo_code =</span> o)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">zones =<span class="st"> </span><span class="kw">left_join</span>(zones, zones_attr)
<span class="co">#&gt; Joining, by = &quot;geo_code&quot;</span>
<span class="kw">sum</span>(zones$all)
<span class="co">#&gt; [1] 238805</span>
<span class="kw">summary</span>(zones[<span class="kw">c</span>(<span class="st">&quot;all&quot;</span>, <span class="st">&quot;car_driver&quot;</span>)])
<span class="co">#&gt;       all         car_driver            geometry  </span>
<span class="co">#&gt;  Min.   : 786   Min.   : 331   MULTIPOLYGON :102  </span>
<span class="co">#&gt;  1st Qu.:1694   1st Qu.: 890   epsg:4326    :  0  </span>
<span class="co">#&gt;  Median :2208   Median :1178   +proj=long...:  0  </span>
<span class="co">#&gt;  Mean   :2341   Mean   :1297                      </span>
<span class="co">#&gt;  3rd Qu.:2777   3rd Qu.:1657                      </span>
<span class="co">#&gt;  Max.   :4503   Max.   :2903</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:zones"></span>
<img src="https://user-images.githubusercontent.com/1825120/34133431-8514e494-e44c-11e7-93e2-819ff81ea5ca.png" alt="Regional boundaries (the thick black line represents the Travel to Work Area (TTWA), the thinner black boundary represents the OSM boundary) for Bristol and the number of people working in the (TTW) per zone."  />
<p class="caption">
Figure 8.2: Regional boundaries (the thick black line represents the Travel to Work Area (TTWA), the thinner black boundary represents the OSM boundary) for Bristol and the number of people working in the (TTW) per zone.
</p>
</div>
</div>
<div id="nodes-on-the-transport-system" class="section level2">
<h2><span class="header-section-number">8.4</span> Nodes on the transport system</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rail_stations =<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;extdata/rail_stations.rds&quot;</span>)</code></pre></div>
</div>
<div id="desire-lines" class="section level2">
<h2><span class="header-section-number">8.5</span> Desire lines</h2>
<p>We have already loaded data representing desire lines in the dataset <code>od</code>. This origin-destination (OD) data frame object represents the number of people travelling between the zone represented in <code>o</code> and <code>d</code>, as illustrated in Table <a href="transport.html#tab:od">8.1</a>. This subset of the data was using attribute operations described in Chatper <a href="attr.html#attr">3</a>, to arrange the OD data by all trips and then filter-out only the top 5:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">od_top5 =<span class="st"> </span>od %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(all)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">top_n</span>(<span class="dv">5</span>, <span class="dt">wt =</span> all)</code></pre></div>
<table>
<caption><span id="tab:od">Table 8.1: </span>Sample of the origin-destination data stored in the data frame object <code>od</code>. These represent the top 5 most common desire lines between zones in the study area.</caption>
<thead>
<tr class="header">
<th align="left">o</th>
<th align="left">d</th>
<th align="right">all</th>
<th align="right">bicycle</th>
<th align="right">foot</th>
<th align="right">car_driver</th>
<th align="right">train</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">E02003043</td>
<td align="left">E02003043</td>
<td align="right">1493</td>
<td align="right">66</td>
<td align="right">1296</td>
<td align="right">64</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="left">E02003047</td>
<td align="left">E02003043</td>
<td align="right">1300</td>
<td align="right">287</td>
<td align="right">751</td>
<td align="right">148</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">E02003031</td>
<td align="left">E02003043</td>
<td align="right">1221</td>
<td align="right">305</td>
<td align="right">600</td>
<td align="right">176</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">E02003037</td>
<td align="left">E02003043</td>
<td align="right">1186</td>
<td align="right">88</td>
<td align="right">908</td>
<td align="right">110</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">E02003034</td>
<td align="left">E02003043</td>
<td align="right">1177</td>
<td align="right">281</td>
<td align="right">711</td>
<td align="right">100</td>
<td align="right">7</td>
</tr>
</tbody>
</table>
<p>This table provides a snapshot of Bristolian travel patterns demonstrating, for example, that walking is the most popular mode of transport among the top 5 inter-zonal origin-destination pairs and that zone <code>E02003043</code> is a popular destination. But from a policy perspective it’s useless: aside from the fact that it contains only a tiny portion of the 2910 OD pairs, there is no way of deciding <em>where</em> policy measures are needed to boost walking and cycling. What is needed is a way to plot this origin-destination data on the map.</p>
<p>The solution is to convert the non-geographic <code>od</code> dataset into geographical desire lines that can be plotted on a map. The geographic representation of the data presented in Table <a href="transport.html#tab:od">8.1</a> are displayed as straight black lines in <a href="transport.html#fig:desire">8.3</a>: these are clearly more useful from a policy perspective. The conversion from <code>data.frame</code> to <code>sf</code> class is done in the code below which matches the IDs in the first two columns of the <code>od</code> object to the <code>zone_code</code> ID column in the geographic <code>zones</code> object.<a href="#fn45" class="footnoteRef" id="fnref45"><sup>45</sup></a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">desire_lines =<span class="st"> </span><span class="kw">od2line</span>(od, zones)
<span class="co">#&gt; Warning in st_centroid.sfc(st_geometry(x), of_largest_polygon =</span>
<span class="co">#&gt; of_largest_polygon): st_centroid does not give correct centroids for</span>
<span class="co">#&gt; longitude/latitude data</span></code></pre></div>
<p>The above code generates a geographic object <code>desire_lines</code> (of class <code>sf</code>) that allows the <code>od</code> object to be plotted on the map and, vitally, used to inform geographically targetted transport policies. The <code>desire_lines</code> can now be plotted using plot commands such as that provided in the command below. The results, illustrated in Figure <a href="transport.html#fig:desire">8.3</a>, demonstrate that Bristol city centre is by far the largest trip attractor in the region. However, there are several peripheral sub-centres including Bradford Stoke to the North and Portishead to the West.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(desire_lines$geometry)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:desire"></span>
<img src="https://user-images.githubusercontent.com/1825120/34081176-74fd39c8-e341-11e7-9f3e-b98807cb113b.png" alt="Desire lines representing the centrality of Bristol City Centre in the region's transport patterns. The width of the red lines is proportional to commute trips between zones. The 5 black lines represent sample origin-destination data shown in Table 8.1."  />
<p class="caption">
Figure 8.3: Desire lines representing the centrality of Bristol City Centre in the region’s transport patterns. The width of the red lines is proportional to commute trips between zones. The 5 black lines represent sample origin-destination data shown in Table 8.1.
</p>
</div>
</div>
<div id="route-analysis" class="section level2">
<h2><span class="header-section-number">8.6</span> Route analysis</h2>
</div>
<div id="route-networks" class="section level2">
<h2><span class="header-section-number">8.7</span> Route networks</h2>
<p>The data used in this section was downloaded using <strong>osmdata</strong>. To avoid having to request the data from OSM repeadetly, we’ll use a locally saved version of the data, which contains point and line data for the case study area:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ways =<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;extdata/ways.rds&quot;</span>)
<span class="kw">summary</span>(ways)
<span class="co">#&gt;      highway        maxspeed         ref                  geometry   </span>
<span class="co">#&gt;  cycleway:1259   30 mph : 822   A38    : 199   LINESTRING     :4575  </span>
<span class="co">#&gt;  rail    : 813   20 mph : 435   M5     : 138   MULTILINESTRING:  13  </span>
<span class="co">#&gt;  road    :2516   70 mph : 321   A432   : 128   epsg:4326      :   0  </span>
<span class="co">#&gt;                  40 mph : 311   A4018  : 120   +proj=long...  :   0  </span>
<span class="co">#&gt;                  50 mph : 131   A420   : 112                         </span>
<span class="co">#&gt;                  (Other): 475   (Other):1681                         </span>
<span class="co">#&gt;                  NA&#39;s   :2093   NA&#39;s   :2210</span></code></pre></div>
<p>The above code chunk loaded a simple feature object representing around 3,000 segments on the transport network. This an easily manageable dataset size (transport datasets be large but it’s best to start small).</p>
</div>
<div id="agents-in-the-transport-system" class="section level2">
<h2><span class="header-section-number">8.8</span> Agents in the transport system</h2>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-miller_toblers_2004">
<p>Miller, Harvey J. 2004. “Tobler’s First Law and Spatial Analysis.” <em>Annals of the Association of American Geographers</em> 94 (2).</p>
</div>
<div id="ref-rodrigue_geography_2013">
<p>Rodrigue, Jean-Paul, Claude Comtois, and Brian Slack. 2013. <em>The Geography of Transport Systems</em>. 3 edition. London ; New York: Routledge.</p>
</div>
<div id="ref-bristol_city_council_deprivation_2015">
<p>Bristol City Council. 2015. “Deprivation in Bristol 2015.” <a href="https://www.bristol.gov.uk/statistics-census-information/deprivation" class="uri">https://www.bristol.gov.uk/statistics-census-information/deprivation</a>.</p>
</div>
<div id="ref-coombes_efficient_1986">
<p>Coombes, M. G., A. E. Green, and S. Openshaw. 1986. “An Efficient Algorithm to Generate Official Statistical Reporting Areas: The Case of the 1984 Travel-to-Work Areas Revision in Britain.” <em>The Journal of the Operational Research Society</em> 37 (10): 943. doi:<a href="https://doi.org/10.2307/2582282">10.2307/2582282</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="44">
<li id="fn44"><p>In this case the command returns a detailed polygon representing official boundary of Bristol. Commonly only rectangular bounding boxes are provided by OSM. In cases where the first match does not provide the right name, the country or region should be specified, for example <code>Bristol Tennessee</code> for an America Bristol.<a href="transport.html#fnref44">↩</a></p></li>
<li id="fn45"><p>Note that the operation emits a warning: this is because the <strong>stplanr</strong> function <code>od2line()</code> used to create the desire lines works by allocating the start and end points of each origin-destination pair to the <em>centroid</em> of its zone of origin and destination. This represents a straight line between the centroid of zone <code>E02003047</code> and the centroid of <code>E02003043</code> for the second origin-destination pair represented in Table <a href="transport.html#tab:od">8.1</a>, for example. For real-world use one would use centroid values generated from projected data or, preferably, use <em>population-weighted</em> centroids. <!-- Todo: add PCT reference (RL) --><a href="transport.html#fnref45">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="location.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Robinlovelace/geocompr/edit/master/08-transport.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
